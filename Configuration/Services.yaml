services:
  _defaults:
    autowire: true
    autoconfigure: true
    public: false

  cache.ximatypo3manual_glossarytermcache:
    class: TYPO3\CMS\Core\Cache\Frontend\FrontendInterface
    factory: [ '@TYPO3\CMS\Core\Cache\CacheManager', 'getCache' ]
    arguments: [ 'ximatypo3manual_glossarytermcache' ]

  Xima\XimaTypo3Manual\:
    resource: '../Classes/*'
    exclude: '../Classes/Domain/Model/*'

  Xima\XimaTypo3Manual\Preview\MtextPreviewRenderer:
    public: true

  Xima\XimaTypo3Manual\EventListener\ModifyButtonBarEventListener:
    tags:
      - name: event.listener
        identifier: 'xima-typo3-manual/event-listener/modify-button-bar'

  Xima\XimaTypo3Manual\EventListener\AfterCacheableContentIsGeneratedEventListener:
    tags:
      - name: event.listener
        identifier: 'xima-typo3-manual/event-listener/content-modifier'
        event: TYPO3\CMS\Frontend\Event\AfterCacheableContentIsGeneratedEvent

  Xima\XimaTypo3Manual\Service\ContentParser:
    arguments:
      $termCache: '@cache.ximatypo3manual_glossarytermcache'
